/* ============================================
   Accessibility
   ============================================ */

/* Account for fixed nav when jumping to anchors */
:where(:target) {
  scroll-margin-top: calc(var(--nav-height) + 3rem);
}

/* Accessible focus styles - subtle but visible */
:where(a, button, [role="button"], input, select, textarea, summary, [tabindex]):focus-visible {
  outline: 1.5px solid var(--color-border);
  outline-offset: 2px;
}

/* Remove focus outline for mouse users */
:where(a, button, [role="button"], input, select, textarea, summary, [tabindex]):focus:not(:focus-visible) {
  outline: none;
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
    scroll-behavior: auto !important;
  }
}

/* High Contrast Mode support */
@media (forced-colors: active) {
  :root {
    --color-bg: Canvas;
    --color-text: CanvasText;
    --color-link: LinkText;
    --color-link-hover: LinkText;
    --color-border: GrayText;
  }
  a {
    text-decoration: underline;
  }
  :where(a, button, [role="button"], input, select, textarea, summary, [tabindex]):focus-visible {
    outline: 2px solid Highlight;
    outline-offset: 2px;
  }
}

/* ============================================
   Responsive Design
   ============================================ */

@media (max-width: 768px) {
  /* Mobile nav is full-width at top: 0 with 64px height + safe-area-inset */
  :root {
    --content-top-padding: calc(64px + env(safe-area-inset-top, 0px) + 1.5rem);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    line-height: 1.2;
    margin-bottom: 1rem;
    margin-top: 1rem;
    font-weight: 600;
    font-family: var(--font-heading);
  }
  h1 {
    font-size: 2.5rem;
  }
  h2 {
    font-size: 2rem;
  }
  h3 {
    font-size: 1.6rem;
  }
  h4 {
    font-size: 1.5rem;
  }
  h5 {
    font-size: 1.25rem;
  }
  h6 {
    font-size: 1.1rem;
  }

  .hero-title h1 {
    font-size: clamp(3rem, 6vw, 6rem);
  }

  .hero-grid {
    padding: 0 1rem;
  }

  .hero-image-container {
    height: 50vh;
    min-height: 250px;
  }

  /* CareerOdyssey mobile adjustments */
  .node-card {
    max-width: 100%;
    max-height: 90vh;
    border-radius: var(--radius-md);
  }

  .node-card-content {
    padding: var(--spacing-lg);
  }

  .node-card-title {
    font-size: 1.6rem;
  }

  .timeline {
    padding: var(--spacing-sm) var(--spacing-md);
  }

  .timeline-year {
    font-size: 1rem;
  }

  .zoom-controls {
    bottom: 1rem;
    right: 1rem;
  }

  .zoom-control-btn {
    width: 40px;
    height: 40px;
  }
}

@media (max-width: 480px) {
  .container {
    padding: 1.0rem;
    max-width: 100%;
    width: 100%;
    margin: 0 auto;
    box-sizing: border-box;
  }

  p,
  li {
    font-size: 1.1rem;
    max-width: 100%;
    overflow-wrap: break-word;
    word-wrap: break-word;
    word-break: break-word;
  }

  ul,
  ol {
    padding-left: 1.25em;
  }

  .hero-title h1 {
    font-size: clamp(4rem, 4vw, 4rem);
  }

  .hero-grid {
    padding: 0 1rem;
    margin: 1rem 0;
  }
}

/* Extra-large breakpoint - 1920px */
@media (min-width: 1920px) {
  .container {
    max-width: 1920px;
  }

  h1 {
    font-size: 3.5rem;
  }

  h2 {
    font-size: 2.875rem;
  }

  h3 {
    font-size: 1.75rem;
  }

  h4 {
    font-size: 2.25rem;
  }

  h5 {
    font-size: 1.875rem;
  }

  h6 {
    font-size: 1.5rem;
  }

  p {
    font-size: 1.4rem;
  }

  li {
    font-size: 1.4rem;
  }

  blockquote p {
    font-size: 1.4rem;
  }

  .hero-title h1 {
    font-size: clamp(6rem, 10vw, 10rem);
  }
}